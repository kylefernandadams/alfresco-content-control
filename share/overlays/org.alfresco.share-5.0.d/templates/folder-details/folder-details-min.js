(function(){Alfresco.FolderDetails=function c(){Alfresco.FolderDetails.superclass.constructor.call(this,null,"Alfresco.FolderDetails");YAHOO.Bubbling.on("metadataRefresh",this.onReady,this);YAHOO.Bubbling.on("filesPermissionsUpdated",this.onReady,this);YAHOO.Bubbling.on("filesMoved",this.onReady,this);return this};YAHOO.extend(Alfresco.FolderDetails,Alfresco.component.Base,{options:{nodeRef:null,siteId:"",rootNode:null},onComponentsLoaded:function b(){YAHOO.util.Event.onDOMReady(this.onReady,this,true)},onReady:function a(){var e=Alfresco.constants.PROXY_URI+"slingshot/doclib/node/"+this.options.nodeRef.uri;if(this.options.siteId==""){e+="?libraryRoot="+encodeURIComponent((this.options.rootNode||"").toString())}Alfresco.util.Ajax.jsonGet({url:e,successCallback:{fn:this._getDataSuccess,scope:this},failureMessage:"Failed to load data for folder details"})},_getDataSuccess:function d(f){if(f.json!==undefined){var e=f.json.item;YAHOO.Bubbling.fire("folderDetailsAvailable",{folderDetails:e,metadata:f.json.metadata});YAHOO.Bubbling.fire("setCommentedNode",{nodeRef:e.nodeRef,title:e.displayName,page:"folder-details",pageParams:{nodeRef:this.options.nodeRef.toString()}})}}})})();