(function(){var c=YAHOO.util.Dom,a=YAHOO.util.Event;Alfresco.RulesNone=function(f){Alfresco.RulesNone.superclass.constructor.call(this,"Alfresco.RulesNone",f,["button"]);YAHOO.Bubbling.on("folderRulesetDetailsAvailable",this.onFolderRulesetDetailsAvailable,this);return this};YAHOO.extend(Alfresco.RulesNone,Alfresco.component.Base,{options:{nodeRef:null,siteId:"",repositoryBrowsing:true},onReady:function b(){a.addListener(this.id+"-linkToRuleSet","click",this.onLinkToRuleSetClick,this,this)},onFolderRulesetDetailsAvailable:function e(h,g){var f=g[1].folderRulesetDetails;if(f.inheritedRules&&f.inheritedRules.length>0){c.removeClass(this.id+"-inheritedRules","hidden")}},onLinkToRuleSetClick:function d(g,h){if(!this.modules.rulesPicker){this.modules.rulesPicker=new Alfresco.module.RulesPicker(this.id+"-rulesPicker")}var f=[Alfresco.module.DoclibGlobalFolder.VIEW_MODE_SITE];if(this.options.repositoryBrowsing===true){f.push(Alfresco.module.DoclibGlobalFolder.VIEW_MODE_REPOSITORY,Alfresco.module.DoclibGlobalFolder.VIEW_MODE_USERHOME,Alfresco.module.DoclibGlobalFolder.VIEW_MODE_SHARED)}this.modules.rulesPicker.setOptions({mode:Alfresco.module.RulesPicker.MODE_LINK_TO,siteId:this.options.siteId,allowedViewModes:f,files:{displayName:this.folderDetails,nodeRef:this.options.nodeRef.toString()}}).showDialog();a.stopEvent(g)}})})();