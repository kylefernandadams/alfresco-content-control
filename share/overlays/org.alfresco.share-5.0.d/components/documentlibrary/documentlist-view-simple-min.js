(function(){var b=YAHOO.util.Dom;var a=Alfresco.util.encodeHTML;Alfresco.DocumentListSimpleViewRenderer=function(e,f){Alfresco.DocumentListSimpleViewRenderer.superclass.constructor.call(this,e,f);this.actionsColumnWidth=80;this.actionsSplitAtModifier=0;return this};YAHOO.extend(Alfresco.DocumentListSimpleViewRenderer,Alfresco.DocumentListViewRenderer);Alfresco.DocumentListSimpleViewRenderer.prototype.renderCellThumbnail=function c(t,s,u,o,k){var n=u.getData(),l=n.jsNode,q=l.properties,g=n.displayName,j=l.isContainer,m=l.isLink,p=g.substring(g.lastIndexOf(".")),f=l.nodeRef.nodeRef;var r;o.width=40;b.setStyle(s,"width",o.width+"px");b.setStyle(s.parentNode,"width",o.width+"px");if(j){s.innerHTML='<span class="folder-small">'+(m?'<span class="link"></span>':"")+(t.dragAndDropEnabled?'<span class="droppable"></span>':"")+Alfresco.DocumentList.generateFileFolderLinkMarkup(t,n)+'<img id="'+f+'" src="'+Alfresco.constants.URL_RESCONTEXT+'components/documentlibrary/images/folder-32.png" /></a>';r=new YAHOO.util.DDTarget(f)}else{var i=t.id+"-preview-"+u.getId();var e=Alfresco.util.getFileIcon(g);if(e=="generic-file-32.png"){e=Alfresco.util.getFileIconByMimetype(l.mimetype)}s.innerHTML='<span id="'+i+'" class="icon32">'+(m?'<span class="link"></span>':"")+Alfresco.DocumentList.generateFileFolderLinkMarkup(t,n)+'<img id="'+f+'" src="'+Alfresco.constants.URL_RESCONTEXT+"components/images/filetypes/"+e+'" alt="'+p+'" title="'+a(g)+'" /></a></span>';t.previewTooltips.push(i)}var h=new Alfresco.DnD(f,t)};Alfresco.DocumentListSimpleViewRenderer.prototype.setupRenderer=function d(e){b.addClass(e.id+this.buttonElementIdSuffix,this.buttonCssClass);e.widgets.previewTooltip=new YAHOO.widget.Tooltip(e.id+"-previewTooltip",{width:"108px"});e.widgets.previewTooltip.contextTriggerEvent.subscribe(function(i,g){var h=g[0],j=e.widgets.dataTable.getRecord(h.id),f=j.getData();this.cfg.setProperty("text",'<img src="'+Alfresco.DocumentList.generateThumbnailUrl(f)+'" />')})}})();