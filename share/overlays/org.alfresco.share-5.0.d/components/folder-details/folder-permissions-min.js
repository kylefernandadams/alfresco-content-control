(function(){Alfresco.FolderPermissions=function(c){Alfresco.FolderPermissions.superclass.constructor.call(this,"Alfresco.FolderPermissions",c);YAHOO.Bubbling.on("filesPermissionsUpdated",this.doRefresh,this);return this};YAHOO.extend(Alfresco.FolderPermissions,Alfresco.component.Base,{options:{nodeRef:null,siteId:"",displayName:null,roles:null},onManagePermissionsClick:function a(){if(!this.modules.permissions){this.modules.permissions=new Alfresco.module.DoclibPermissions(this.id+"-permissions")}this.modules.permissions.setOptions({siteId:this.options.siteId,files:{displayName:this.options.displayName,node:{nodeRef:this.options.nodeRef,permissions:{roles:this.options.roles}}}}).showDialog()},doRefresh:function b(){YAHOO.Bubbling.unsubscribe("filesPermissionsUpdated",this.doRefresh,this);this.refresh("components/folder-details/folder-permissions?nodeRef={nodeRef}"+(this.options.siteId?"&site={siteId}":""))}})})();