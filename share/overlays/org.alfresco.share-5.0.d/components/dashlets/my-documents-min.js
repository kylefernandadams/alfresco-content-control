(function(){var e=YAHOO.util.Dom,i=YAHOO.util.Event,a=YAHOO.util.Selector;Alfresco.dashlet.MyDocuments=function h(j){return Alfresco.dashlet.MyDocuments.superclass.constructor.call(this,j)};YAHOO.extend(Alfresco.dashlet.MyDocuments,Alfresco.component.SimpleDocList,{PREFERENCES_MYDOCUMENTS_DASHLET_FILTER:"",PREFERENCES_MYDOCUMENTS_DASHLET_VIEW:"",onReady:function f(){var k=this.services.preferences.getDashletId(this,"mydocuments");this.PREFERENCES_MYDOCUMENTS_DASHLET_FILTER=k+".filter";this.PREFERENCES_MYDOCUMENTS_DASHLET_VIEW=k+".simpleView";this.widgets.filter=Alfresco.util.createYUIButton(this,"filters",this.onFilterChange,{type:"menu",menu:"filters-menu",lazyloadmenu:false});var j=this.options.filter;j=Alfresco.util.arrayContains(this.options.validFilters,j)?j:this.options.validFilters[0];this.widgets.filter.set("label",this.msg("filter."+j)+" "+Alfresco.constants.MENU_ARROW_SYMBOL);this.widgets.filter.value=j;this.widgets.simpleDetailed=new YAHOO.widget.ButtonGroup(this.id+"-simpleDetailed");if(this.widgets.simpleDetailed!==null){this.widgets.simpleDetailed.check(this.options.simpleView?0:1);this.widgets.simpleDetailed.on("checkedButtonChange",this.onSimpleDetailed,this.widgets.simpleDetailed,this)}e.removeClass(a.query(".toolbar div",this.id,true),"hidden");Alfresco.dashlet.MyDocuments.superclass.onReady.apply(this,arguments)},getWebscriptUrl:function c(){return Alfresco.constants.PROXY_URI+"slingshot/doclib/doclist/documents/node/alfresco/company/home?max=50"},getParameters:function d(){return"filter="+this.widgets.filter.value},onFilterChange:function b(k,j){var l=j[1];if(l){this.widgets.filter.set("label",l.cfg.getProperty("text")+" "+Alfresco.constants.MENU_ARROW_SYMBOL);this.widgets.filter.value=l.value;this.services.preferences.set(this.PREFERENCES_MYDOCUMENTS_DASHLET_FILTER,this.widgets.filter.value);this.reloadDataTable()}},onSimpleDetailed:function g(j,k){this.options.simpleView=j.newValue.index===0;this.services.preferences.set(this.PREFERENCES_MYDOCUMENTS_DASHLET_VIEW,this.options.simpleView);if(j){i.preventDefault(j)}this.reloadDataTable()}})})();