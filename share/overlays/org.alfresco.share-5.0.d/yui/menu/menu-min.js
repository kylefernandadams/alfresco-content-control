/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
(function(){var l=YAHOO.env.ua,c=YAHOO.util.Dom,B=YAHOO.util.Event,i=YAHOO.lang,u="DIV",q="hd",n="bd",p="ft",z="LI",a="disabled",d="mouseover",g="mouseout",v="mousedown",h="mouseup",w="click",x="touchstart",e="touchend",b="keydown",o="keyup",j="keypress",m="clicktohide",t="position",r="dynamic",A="showdelay",k="selected",f="visible",y="UL",s="MenuManager";YAHOO.widget.MenuManager=function(){var N=false,F={},Q={},J={},E={click:"clickEvent",mousedown:"mouseDownEvent",mouseup:"mouseUpEvent",mouseover:"mouseOverEvent",mouseout:"mouseOutEvent",touchstart:"mouseOverEvent",touchend:"mouseUpEvent",keydown:"keyDownEvent",keyup:"keyUpEvent",keypress:"keyPressEvent",focus:"focusEvent",focusin:"focusEvent",blur:"blurEvent",focusout:"blurEvent"},K=null;function D(T){var R,S;if(T&&T.tagName){switch(T.tagName.toUpperCase()){case u:R=T.parentNode;if((c.hasClass(T,q)||c.hasClass(T,n)||c.hasClass(T,p))&&R&&R.tagName&&R.tagName.toUpperCase()==u){S=R}else{S=T}break;case z:S=T;break;default:R=T.parentNode;if(R){S=D(R)}break}}return S}function G(V){var R=B.getTarget(V),S=D(R),W=true,Y=V.type,Z,T,U,ab,aa;if(S){T=S.tagName.toUpperCase();if(T==z){U=S.id;if(U&&J[U]){ab=J[U];aa=ab.parent}}else{if(T==u){if(S.id){aa=F[S.id]}}}}if(aa){Z=E[Y];if(Y=="click"&&(l.gecko&&aa.platform!="mac")&&V.button>0){W=false}if(W&&ab&&!ab.cfg.getProperty(a)){ab[Z].fire(V)}if(W){aa[Z].fire(V,ab)}}else{if(Y==v){for(var X in Q){if(i.hasOwnProperty(Q,X)){aa=Q[X];if(aa.cfg.getProperty(m)&&!(aa instanceof YAHOO.widget.MenuBar)&&aa.cfg.getProperty(t)==r){aa.hide();if(l.ie&&R.focus&&(l.ie<9)){R.setActive()}}else{if(aa.cfg.getProperty(A)>0){aa._cancelShowDelay()}if(aa.activeItem){aa.activeItem.blur();aa.activeItem.cfg.setProperty(k,false);aa.activeItem=null}}}}}else{if(Y==e){for(var X in Q){if(i.hasOwnProperty(Q,X)){aa=Q[X];aa.hide()}}}}}}function P(S,R,T){if(F[T.id]){this.removeMenu(T)}}function M(S,R){var T=R[1];if(T){K=T}}function H(S,R){K=null}function C(T,S){var R=S[0],U=this.id;if(R){Q[U]=this}else{if(Q[U]){delete Q[U]}}}function L(S,R){O(this)}function O(S){var R=S.id;if(R&&J[R]){if(K==S){K=null}delete J[R];S.destroyEvent.unsubscribe(L)}}function I(S,R){var U=R[0],T;if(U instanceof YAHOO.widget.MenuItem){T=U.id;if(!J[T]){J[T]=U;U.destroyEvent.subscribe(L)}}}return{addMenu:function(S){var R;if(S instanceof YAHOO.widget.Menu&&S.id&&!F[S.id]){F[S.id]=S;if(!N){R=document;B.on(R,d,G,this,true);B.on(R,g,G,this,true);B.on(R,v,G,this,true);B.on(R,h,G,this,true);B.on(R,w,G,this,true);B.on(R,x,G,this,true);B.on(R,e,G,this,true);B.on(R,b,G,this,true);B.on(R,o,G,this,true);B.on(R,j,G,this,true);B.onFocus(R,G,this,true);B.onBlur(R,G,this,true);N=true}S.cfg.subscribeToConfigEvent(f,C);S.destroyEvent.subscribe(P,S,this);S.itemAddedEvent.subscribe(I);S.focusEvent.subscribe(M);S.blurEvent.subscribe(H)}},removeMenu:function(U){var S,R,T;if(U){S=U.id;if((S in F)&&(F[S]==U)){R=U.getItems();if(R&&R.length>0){T=R.length-1;do{O(R[T])}while(T--)}delete F[S];if((S in Q)&&(Q[S]==U)){delete Q[S]}if(U.cfg){U.cfg.unsubscribeFromConfigEvent(f,C)}U.destroyEvent.unsubscribe(P,U);U.itemAddedEvent.unsubscribe(I);U.focusEvent.unsubscribe(M);U.blurEvent.unsubscribe(H)}}},hideVisible:function(){var R;for(var S in Q){if(i.hasOwnProperty(Q,S)){R=Q[S];if(!(R instanceof YAHOO.widget.MenuBar)&&R.cfg.getProperty(t)==r){R.hide()}}}},getVisible:function(){return Q},getMenus:function(){return F},getMenu:function(S){var R;if(S in F){R=F[S]}return R},getMenuItem:function(S){var R;if(S in J){R=J[S]}return R},getMenuItemGroup:function(V){var S=c.get(V),R,X,W,T,U;if(S&&S.tagName&&S.tagName.toUpperCase()==y){X=S.firstChild;if(X){R=[];do{T=X.id;if(T){W=this.getMenuItem(T);if(W){R[R.length]=W}}}while((X=X.nextSibling));if(R.length>0){U=R}}}return U},getFocusedMenuItem:function(){return K},getFocusedMenu:function(){var R;if(K){R=K.parent.getRoot()}return R},toString:function(){return s}}}()})();(function(){var am=YAHOO.lang,aR="Menu",g="DIV",k="div",aN="id",ah="SELECT",E="xy",r="y",aY="UL",l="ul",aj="first-of-type",K="LI",H="OPTGROUP",a0="OPTION",aI="disabled",az="none",Y="selected",aU="groupindex",I="index",o="submenu",aV="visible",ay="hidedelay",aD="position",ad="dynamic",c="static",aO=ad+","+c,q="url",m="#",v="target",av="maxheight",t="topscrollbar",X="bottomscrollbar",D="_",p=t+D+aI,e=X+D+aI,B="mousemove",aW="showdelay",C="submenuhidedelay",af="iframe",W="constraintoviewport",a5="preventcontextoverlap",ao="submenualignment",z="autosubmenudisplay",ac="clicktohide",G="container",J="scrollincrement",aK="minscrollheight",a3="classname",aH="shadow",aS="keepopen",a1="hd",d="hastitle",P="context",U="",aL="mousedown",aF="keydown",aP="height",u="width",aq="px",aZ="effect",ae="monitorresize",ax="display",aw="block",j="visibility",Z="absolute",at="zindex",L="yui-menu-body-scrolled",ak="&#32;",a2=" ",aJ="mouseover",h="mouseout",ar="itemAdded",N="itemRemoved",al="hidden",S="yui-menu-shadow",ag=S+"-visible",M=S+a2+ag;YAHOO.widget.Menu=function(a7,a6){if(a6){this.parent=a6.parent;this.lazyLoad=a6.lazyLoad||a6.lazyload;this.itemData=a6.itemData||a6.itemdata}YAHOO.widget.Menu.superclass.constructor.call(this,a7,a6)};function b(a7){var a6=false;if(am.isString(a7)){a6=(aO.indexOf((a7.toLowerCase()))!=-1)}return a6}var F=YAHOO.util.Dom,aa=YAHOO.util.Event,aX=YAHOO.widget.Module,ab=YAHOO.widget.Overlay,R=YAHOO.widget.Menu,a4=YAHOO.widget.MenuManager,f=YAHOO.util.CustomEvent,aT=YAHOO.env.ua,aQ,au=false,aE,aC=[["mouseOverEvent",aJ],["mouseOutEvent",h],["mouseDownEvent",aL],["mouseUpEvent","mouseup"],["clickEvent","click"],["keyPressEvent","keypress"],["keyDownEvent",aF],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["itemAddedEvent",ar],["itemRemovedEvent",N]],aA={key:aV,value:false,validator:am.isBoolean},ap={key:W,value:true,validator:am.isBoolean,supercedes:[af,"x",r,E]},ai={key:a5,value:true,validator:am.isBoolean,supercedes:[W]},s={key:aD,value:ad,validator:b,supercedes:[aV,af]},a={key:ao,value:["tl","tr"]},T={key:z,value:true,validator:am.isBoolean,suppressEvent:true},y={key:aW,value:250,validator:am.isNumber,suppressEvent:true},Q={key:ay,value:0,validator:am.isNumber,suppressEvent:true},V={key:C,value:250,validator:am.isNumber,suppressEvent:true},O={key:ac,value:true,validator:am.isBoolean,suppressEvent:true},an={key:G,suppressEvent:true},aG={key:J,value:1,validator:am.isNumber,supercedes:[av],suppressEvent:true},n={key:aK,value:90,validator:am.isNumber,supercedes:[av],suppressEvent:true},x={key:av,value:0,validator:am.isNumber,supercedes:[af],suppressEvent:true},w={key:a3,value:null,validator:am.isString,suppressEvent:true},A={key:aI,value:false,validator:am.isBoolean,suppressEvent:true},i={key:aH,value:true,validator:am.isBoolean,suppressEvent:true,supercedes:[aV]},aM={key:aS,value:false,validator:am.isBoolean};function aB(a6){aE=aa.getTarget(a6)}YAHOO.lang.extend(R,ab,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",OFF_SCREEN_POSITION:"-999em",_useHideDelay:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,init:function(a8,a7){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem}var a6;if(am.isString(a8)){a6=F.get(a8)}else{if(a8.tagName){a6=a8}}if(a6&&a6.tagName){switch(a6.tagName.toUpperCase()){case g:this.srcElement=a6;if(!a6.id){a6.setAttribute(aN,F.generateId())}R.superclass.init.call(this,a6);this.beforeInitEvent.fire(R);break;case ah:this.srcElement=a6;R.superclass.init.call(this,F.generateId());this.beforeInitEvent.fire(R);break}}else{R.superclass.init.call(this,a8);this.beforeInitEvent.fire(R)}if(this.element){F.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.hideEvent.subscribe(this._onHide);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);this.blurEvent.subscribe(this._onBlur);if(!au){aa.onFocus(document,aB);au=true}if((aT.gecko&&aT.gecko<1.9)||(aT.webkit&&aT.webkit<523)){this.cfg.subscribeToConfigEvent(r,this._onYChange)}if(a7){this.cfg.applyConfig(a7,true)}a4.addMenu(this);this.initEvent.fire(R)}},_initSubTree:function(){var a7=this.srcElement,a6,a9,bc,bd,bb,ba,a8;if(a7){a6=(a7.tagName&&a7.tagName.toUpperCase());if(a6==g){bd=this.body.firstChild;if(bd){a9=0;bc=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(bd&&bd.tagName){switch(bd.tagName.toUpperCase()){case bc:this._aGroupTitleElements[a9]=bd;break;case aY:this._aListElements[a9]=bd;this._aItemGroups[a9]=[];a9++;break}}}while((bd=bd.nextSibling));if(this._aListElements[0]){F.addClass(this._aListElements[0],aj)}}}bd=null;if(a6){switch(a6){case g:bb=this._aListElements;ba=bb.length;if(ba>0){a8=ba-1;do{bd=bb[a8].firstChild;if(bd){do{if(bd&&bd.tagName&&bd.tagName.toUpperCase()==K){this.addItem(new this.ITEM_TYPE(bd,{parent:this}),a8)}}while((bd=bd.nextSibling))}}while(a8--)}break;case ah:bd=a7.firstChild;do{if(bd&&bd.tagName){switch(bd.tagName.toUpperCase()){case H:case a0:this.addItem(new this.ITEM_TYPE(bd,{parent:this}));break}}}while((bd=bd.nextSibling));break}}}},_getFirstEnabledItem:function(){var a6=this.getItems(),ba=a6.length,a9,a8;for(var a7=0;a7<ba;a7++){a9=a6[a7];if(a9&&!a9.cfg.getProperty(aI)&&a9.element.style.display!=az){a8=a9;break}}return a8},_addItemToGroup:function(bb,bc,bg){var be,bh,a9,bf,ba,a7,a8,bd;function a6(bi,bj){return(bi[bj]||a6(bi,(bj+1)))}if(bc instanceof this.ITEM_TYPE){be=bc;be.parent=this}else{if(am.isString(bc)){be=new this.ITEM_TYPE(bc,{parent:this})}else{if(am.isObject(bc)){bc.parent=this;be=new this.ITEM_TYPE(bc.text,bc)}}}if(be){if(be.cfg.getProperty(Y)){this.activeItem=be}bh=am.isNumber(bb)?bb:0;a9=this._getItemGroup(bh);if(!a9){a9=this._createItemGroup(bh)}if(am.isNumber(bg)){ba=(bg>=a9.length);if(a9[bg]){a9.splice(bg,0,be)}else{a9[bg]=be}bf=a9[bg];if(bf){if(ba&&(!bf.element.parentNode||bf.element.parentNode.nodeType==11)){this._aListElements[bh].appendChild(bf.element)}else{a7=a6(a9,(bg+1));if(a7&&(!bf.element.parentNode||bf.element.parentNode.nodeType==11)){this._aListElements[bh].insertBefore(bf.element,a7.element)}}bf.parent=this;this._subscribeToItemEvents(bf);this._configureSubmenu(bf);this._updateItemProperties(bh);this.itemAddedEvent.fire(bf);this.changeContentEvent.fire();bd=bf}}else{a8=a9.length;a9[a8]=be;bf=a9[a8];if(bf){if(!F.isAncestor(this._aListElements[bh],bf.element)){this._aListElements[bh].appendChild(bf.element)}bf.element.setAttribute(aU,bh);bf.element.setAttribute(I,a8);bf.parent=this;bf.index=a8;bf.groupIndex=bh;this._subscribeToItemEvents(bf);this._configureSubmenu(bf);if(a8===0){F.addClass(bf.element,aj)}this.itemAddedEvent.fire(bf);this.changeContentEvent.fire();bd=bf}}}return bd},_removeItemFromGroupByIndex:function(a9,a7){var a8=am.isNumber(a9)?a9:0,ba=this._getItemGroup(a8),bc,bb,a6;if(ba){bc=ba.splice(a7,1);bb=bc[0];if(bb){this._updateItemProperties(a8);if(ba.length===0){a6=this._aListElements[a8];if(a6&&a6.parentNode){a6.parentNode.removeChild(a6)}this._aItemGroups.splice(a8,1);this._aListElements.splice(a8,1);a6=this._aListElements[0];if(a6){F.addClass(a6,aj)}}this.itemRemovedEvent.fire(bb);this.changeContentEvent.fire()}}return bb},_removeItemFromGroupByValue:function(a9,a6){var bb=this._getItemGroup(a9),bc,ba,a8,a7;if(bb){bc=bb.length;ba=-1;if(bc>0){a7=bc-1;do{if(bb[a7]==a6){ba=a7;break}}while(a7--);if(ba>-1){a8=this._removeItemFromGroupByIndex(a9,ba)}}}return a8},_updateItemProperties:function(a7){var a8=this._getItemGroup(a7),bb=a8.length,ba,a9,a6;if(bb>0){a6=bb-1;do{ba=a8[a6];if(ba){a9=ba.element;ba.index=a6;ba.groupIndex=a7;a9.setAttribute(aU,a7);a9.setAttribute(I,a6);F.removeClass(a9,aj)}}while(a6--);if(a9){F.addClass(a9,aj)}}},_createItemGroup:function(a8){var a6,a7;if(!this._aItemGroups[a8]){this._aItemGroups[a8]=[];a6=document.createElement(l);this._aListElements[a8]=a6;a7=this._aItemGroups[a8]}return a7},_getItemGroup:function(a8){var a6=am.isNumber(a8)?a8:0,a9=this._aItemGroups,a7;if(a6 in a9){a7=a9[a6]}return a7},_configureSubmenu:function(a6){var a7=a6.cfg.getProperty(o);if(a7){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,a7,true);this.renderEvent.subscribe(this._onParentMenuRender,a7,true)}},_subscribeToItemEvents:function(a6){a6.destroyEvent.subscribe(this._onMenuItemDestroy,a6,this);a6.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,a6,this)},_onVisibleChange:function(a8,a7){var a6=a7[0];if(a6){F.addClass(this.element,aV)}else{F.removeClass(this.element,aV)}},_cancelHideDelay:function(){var a6=this.getRoot()._hideDelayTimer;if(a6){a6.cancel()}},_execHideDelay:function(){this._cancelHideDelay();var a6=this.getRoot();a6._hideDelayTimer=am.later(a6.cfg.getProperty(ay),this,function(){if(a6.activeItem){if(a6.hasFocus()){a6.activeItem.focus()}a6.clearActiveItem()}if(a6==this&&!(this instanceof YAHOO.widget.MenuBar)&&this.cfg.getProperty(aD)==ad){this.hide()}})},_cancelShowDelay:function(){var a6=this.getRoot()._showDelayTimer;if(a6){a6.cancel()}},_execSubmenuHideDelay:function(a8,a7,a6){a8._submenuHideDelayTimer=am.later(50,this,function(){if(this._nCurrentMouseX>(a7+10)){a8._submenuHideDelayTimer=am.later(a6,a8,function(){this.hide()})}else{a8.hide()}})},_disableScrollHeader:function(){if(!this._bHeaderDisabled){F.addClass(this.header,p);this._bHeaderDisabled=true}},_disableScrollFooter:function(){if(!this._bFooterDisabled){F.addClass(this.footer,e);this._bFooterDisabled=true}},_enableScrollHeader:function(){if(this._bHeaderDisabled){F.removeClass(this.header,p);this._bHeaderDisabled=false}},_enableScrollFooter:function(){if(this._bFooterDisabled){F.removeClass(this.footer,e);this._bFooterDisabled=false}},_onMouseOver:function(bi,bb){var bj=bb[0],bf=bb[1],a6=aa.getTarget(bj),ba=this.getRoot(),bh=this._submenuHideDelayTimer,a7,a9,be,a8,bd,bc;var bg=function(){if(this.parent.cfg.getProperty(Y)){this.show()}};if(!this._bStopMouseEventHandlers){if(!this._bHandledMouseOverEvent&&(a6==this.element||F.isAncestor(this.element,a6))){if(this._useHideDelay){this._cancelHideDelay()}this._nCurrentMouseX=0;aa.on(this.element,B,this._onMouseMove,this,true);if(!(bf&&F.isAncestor(bf.element,aa.getRelatedTarget(bj)))){this.clearActiveItem()}if(this.parent&&bh){bh.cancel();this.parent.cfg.setProperty(Y,true);a7=this.parent.parent;a7._bHandledMouseOutEvent=true;a7._bHandledMouseOverEvent=false}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false}if(bf&&!bf.handledMouseOverEvent&&!bf.cfg.getProperty(aI)&&(a6==bf.element||F.isAncestor(bf.element,a6))){a9=this.cfg.getProperty(aW);be=(a9>0);if(be){this._cancelShowDelay()}a8=this.activeItem;if(a8){a8.cfg.setProperty(Y,false)}bd=bf.cfg;bd.setProperty(Y,true);if(this.hasFocus()||ba._hasFocus){bf.focus();ba._hasFocus=false}if(this.cfg.getProperty(z)){bc=bd.getProperty(o);if(bc){if(be){ba._showDelayTimer=am.later(ba.cfg.getProperty(aW),bc,bg)}else{bc.show()}}}bf.handledMouseOverEvent=true;bf.handledMouseOutEvent=false}}},_onMouseOut:function(be,a8){var bf=a8[0],bc=a8[1],a9=aa.getRelatedTarget(bf),bd=false,bb,ba,a6,a7;if(!this._bStopMouseEventHandlers){if(bc&&!bc.cfg.getProperty(aI)){bb=bc.cfg;ba=bb.getProperty(o);if(ba&&(a9==ba.element||F.isAncestor(ba.element,a9))){bd=true}if(!bc.handledMouseOutEvent&&((a9!=bc.element&&!F.isAncestor(bc.element,a9))||bd)){if(!bd){bc.cfg.setProperty(Y,false);if(ba){a6=this.cfg.getProperty(C);a7=this.cfg.getProperty(aW);if(!(this instanceof YAHOO.widget.MenuBar)&&a6>0&&a6>=a7){this._execSubmenuHideDelay(ba,aa.getPageX(bf),a6)}else{ba.hide()}}}bc.handledMouseOutEvent=true;bc.handledMouseOverEvent=false}}if(!this._bHandledMouseOutEvent){if(this._didMouseLeave(a9)||bd){if(this._useHideDelay){this._execHideDelay()}aa.removeListener(this.element,B,this._onMouseMove);this._nCurrentMouseX=aa.getPageX(bf);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false}}}},_didMouseLeave:function(a6){return(a6===this._shadow||(a6!=this.element&&!F.isAncestor(this.element,a6)))},_onMouseMove:function(a7,a6){if(!this._bStopMouseEventHandlers){this._nCurrentMouseX=aa.getPageX(a7)}},_onClick:function(bh,a8){var bi=a8[0],bc=a8[1],be=false,ba,bf,a7,a6,bb,bd,bg;var a9=function(){a7=this.getRoot();if(a7 instanceof YAHOO.widget.MenuBar||a7.cfg.getProperty(aD)==c){a7.clearActiveItem()}else{a7.hide()}};if(bc){if(bc.cfg.getProperty(aI)){aa.preventDefault(bi);a9.call(this)}else{ba=bc.cfg.getProperty(o);bb=bc.cfg.getProperty(q);if(bb){bd=bb.indexOf(m);bg=bb.length;if(bd!=-1){bb=bb.substr(bd,bg);bg=bb.length;if(bg>1){a6=bb.substr(1,bg);bf=YAHOO.widget.MenuManager.getMenu(a6);if(bf){be=(this.getRoot()===bf.getRoot())}}else{if(bg===1){be=true}}}}if(be&&!bc.cfg.getProperty(v)){aa.preventDefault(bi);if(aT.webkit){bc.focus()}else{bc.focusEvent.fire()}}if(!ba&&!this.cfg.getProperty(aS)){a9.call(this)}}}},_stopMouseEventHandlers:function(){this._bStopMouseEventHandlers=true;am.later(10,this,function(){this._bStopMouseEventHandlers=false})},_onKeyDown:function(bk,be){var bh=be[0],bg=be[1],bd,bi,a7,ba,bl,a6,bo,a9,bj,a8,bf,bn,bb,bc;if(this._useHideDelay){this._cancelHideDelay()}if(bg&&!bg.cfg.getProperty(aI)){bi=bg.cfg;a7=this.parent;switch(bh.keyCode){case 38:case 40:bl=(bh.keyCode==38)?bg.getPreviousEnabledSibling():bg.getNextEnabledSibling();if(bl){this.clearActiveItem();bl.cfg.setProperty(Y,true);bl.focus();if(this.cfg.getProperty(av)>0||F.hasClass(this.body,L)){a6=this.body;bo=a6.scrollTop;a9=a6.offsetHeight;bj=this.getItems();a8=bj.length-1;bf=bl.element.offsetTop;if(bh.keyCode==40){if(bf>=(a9+bo)){a6.scrollTop=bf-a9}else{if(bf<=bo){a6.scrollTop=0}}if(bl==bj[a8]){a6.scrollTop=bl.element.offsetTop}}else{if(bf<=bo){a6.scrollTop=bf-bl.element.offsetHeight}else{if(bf>=(bo+a9)){a6.scrollTop=bf}}if(bl==bj[0]){a6.scrollTop=0}}bo=a6.scrollTop;bn=a6.scrollHeight-a6.offsetHeight;if(bo===0){this._disableScrollHeader();this._enableScrollFooter()}else{if(bo==bn){this._enableScrollHeader();this._disableScrollFooter()}else{this._enableScrollHeader();this._enableScrollFooter()}}}}aa.preventDefault(bh);this._stopMouseEventHandlers();break;case 39:bd=bi.getProperty(o);if(bd){if(!bi.getProperty(Y)){bi.setProperty(Y,true)}bd.show();bd.setInitialFocus();bd.setInitialSelection()}else{ba=this.getRoot();if(ba instanceof YAHOO.widget.MenuBar){bl=ba.activeItem.getNextEnabledSibling();if(bl){ba.clearActiveItem();bl.cfg.setProperty(Y,true);bd=bl.cfg.getProperty(o);if(bd){bd.show();bd.setInitialFocus()}else{bl.focus()}}}}aa.preventDefault(bh);this._stopMouseEventHandlers();break;case 37:if(a7){bb=a7.parent;if(bb instanceof YAHOO.widget.MenuBar){bl=bb.activeItem.getPreviousEnabledSibling();if(bl){bb.clearActiveItem();bl.cfg.setProperty(Y,true);bd=bl.cfg.getProperty(o);if(bd){bd.show();bd.setInitialFocus()}else{bl.focus()}}}else{this.hide();a7.focus()}}aa.preventDefault(bh);this._stopMouseEventHandlers();break}}if(bh.keyCode==27){if(this.cfg.getProperty(aD)==ad){this.hide();if(this.parent){this.parent.focus()}else{bc=this._focusedElement;if(bc&&bc.focus){try{bc.focus()}catch(bm){}}}}else{if(this.activeItem){bd=this.activeItem.cfg.getProperty(o);if(bd&&bd.cfg.getProperty(aV)){bd.hide();this.activeItem.focus()}else{this.activeItem.blur();this.activeItem.cfg.setProperty(Y,false)}}}aa.preventDefault(bh)}},_onKeyPress:function(a8,a7){var a6=a7[0];if(a6.keyCode==40||a6.keyCode==38){aa.preventDefault(a6)}},_onBlur:function(a7,a6){if(this._hasFocus){this._hasFocus=false}},_onYChange:function(a7,a6){var a9=this.parent,bb,a8,ba;if(a9){bb=a9.parent.body.scrollTop;if(bb>0){ba=(this.cfg.getProperty(r)-bb);F.setY(this.element,ba);a8=this.iframe;if(a8){F.setY(a8,ba)}this.cfg.setProperty(r,ba,true)}}},_onScrollTargetMouseOver:function(bc,bf){var be=this._bodyScrollTimer;if(be){be.cancel()}this._cancelHideDelay();var a8=aa.getTarget(bc),ba=this.body,a9=this.cfg.getProperty(J),a6,a7;function bd(){var bg=ba.scrollTop;if(bg<a6){ba.scrollTop=(bg+a9);this._enableScrollHeader()}else{ba.scrollTop=a6;this._bodyScrollTimer.cancel();this._disableScrollFooter()}}function bb(){var bg=ba.scrollTop;if(bg>0){ba.scrollTop=(bg-a9);this._enableScrollFooter()}else{ba.scrollTop=0;this._bodyScrollTimer.cancel();this._disableScrollHeader()}}if(F.hasClass(a8,a1)){a7=bb}else{a6=ba.scrollHeight-ba.offsetHeight;a7=bd}this._bodyScrollTimer=am.later(10,this,a7,null,true)},_onScrollTargetMouseOut:function(a8,a6){var a7=this._bodyScrollTimer;if(a7){a7.cancel()}this._cancelHideDelay()},_onInit:function(a7,a6){this.cfg.subscribeToConfigEvent(aV,this._onVisibleChange);var a8=!this.parent,a9=this.lazyLoad;if(((a8&&!a9)||(a8&&(this.cfg.getProperty(aV)||this.cfg.getProperty(aD)==c))||(!a8&&!a9))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){this.addItems(this.itemData)}}else{if(a9){this.cfg.fireQueue()}}},_onBeforeRender:function(a9,a8){var ba=this.element,bd=this._aListElements.length,a7=true,bc=0,a6,bb;if(bd>0){do{a6=this._aListElements[bc];if(a6){if(a7){F.addClass(a6,aj);a7=false}if(!F.isAncestor(ba,a6)){this.appendToBody(a6)}bb=this._aGroupTitleElements[bc];if(bb){if(!F.isAncestor(ba,bb)){a6.parentNode.insertBefore(bb,a6)}F.addClass(a6,d)}}bc++}while(bc<bd)}},_onRender:function(a7,a6){if(this.cfg.getProperty(aD)==ad){if(!this.cfg.getProperty(aV)){this.positionOffScreen()}}},_onBeforeShow:function(a8,a7){var ba,bd,a9,bb=this.cfg.getProperty(G);if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()==ah){ba=this.itemData.length;for(bd=0;bd<ba;bd++){if(this.itemData[bd].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[bd])))}}}else{this.addItems(this.itemData)}}a9=this.srcElement;if(a9){if(a9.tagName.toUpperCase()==ah){if(F.inDocument(a9)){this.render(a9.parentNode)}else{this.render(bb)}}else{this.render()}}else{if(this.parent){this.render(this.parent.element)}else{this.render(bb)}}}var bc=this.parent,a6;if(!bc&&this.cfg.getProperty(aD)==ad){this.cfg.refireEvent(E)}if(bc){a6=bc.parent.cfg.getProperty(ao);this.cfg.setProperty(P,[bc.element,a6[0],a6[1]]);this.align()}},getConstrainedY:function(bi){var bt=this,bp=bt.cfg.getProperty(P),bw=bt.cfg.getProperty(av),bs,bh={trbr:true,tlbl:true,bltl:true,brtr:true},bb=(bp&&bh[bp[1]+bp[2]]),bd=bt.element,bx=bd.offsetHeight,br=ab.VIEWPORT_OFFSET,bm=F.getViewportHeight(),bq=F.getDocumentScrollTop(),bn=(bt.cfg.getProperty(aK)+br<bm),bv,be,bk,bl,bg=false,bf,a8,bj=bq+br,ba=bq+bm-bx-br,a6=bi;var bc=function(){var by;if((bt.cfg.getProperty(r)-bq)>bk){by=(bk-bx)}else{by=(bk+bl)}bt.cfg.setProperty(r,(by+bq),true);return by};var a9=function(){if((bt.cfg.getProperty(r)-bq)>bk){return(a8-br)}else{return(bf-br)}};var bo=function(){var by;if((bt.cfg.getProperty(r)-bq)>bk){by=(bk+bl)}else{by=(bk-bd.offsetHeight)}bt.cfg.setProperty(r,(by+bq),true)};var a7=function(){bt._setScrollHeight(this.cfg.getProperty(av));bt.hideEvent.unsubscribe(a7)};var bu=function(){var bB=a9(),by=(bt.getItems().length>0),bA,bz;if(bx>bB){bA=by?bt.cfg.getProperty(aK):bx;if((bB>bA)&&by){bs=bB}else{bs=bw}bt._setScrollHeight(bs);bt.hideEvent.subscribe(a7);bo();if(bB<bA){if(bg){bc()}else{bc();bg=true;bz=bu()}}}else{if(bs&&(bs!==bw)){bt._setScrollHeight(bw);bt.hideEvent.subscribe(a7);bo()}}return bz};if(bi<bj||bi>ba){if(bn){if(bt.cfg.getProperty(a5)&&bb){be=bp[0];bl=be.offsetHeight;bk=(F.getY(be)-bq);bf=bk;a8=(bm-(bk+bl));bu();a6=bt.cfg.getProperty(r)}else{if(!(bt instanceof YAHOO.widget.MenuBar)&&bx>=bm){bv=(bm-(br*2));if(bv>bt.cfg.getProperty(aK)){bt._setScrollHeight(bv);bt.hideEvent.subscribe(a7);bo();a6=bt.cfg.getProperty(r)}}else{if(bi<bj){a6=bj}else{if(bi>ba){a6=ba}}}}}else{a6=br+bq}}return a6},_onHide:function(a7,a6){if(this.cfg.getProperty(aD)===ad){this.positionOffScreen()}},_onShow:function(be,bc){var a6=this.parent,a8,a9,bb,a7;function ba(bg){var bf;if(bg.type==aL||(bg.type==aF&&bg.keyCode==27)){bf=aa.getTarget(bg);if(bf!=a8.element||!F.isAncestor(a8.element,bf)){a8.cfg.setProperty(z,false);aa.removeListener(document,aL,ba);aa.removeListener(document,aF,ba)}}}function bd(bg,bf,bh){this.cfg.setProperty(u,U);this.hideEvent.unsubscribe(bd,bh)}if(a6){a8=a6.parent;if(!a8.cfg.getProperty(z)&&(a8 instanceof YAHOO.widget.MenuBar||a8.cfg.getProperty(aD)==c)){a8.cfg.setProperty(z,true);aa.on(document,aL,ba);aa.on(document,aF,ba)}if((this.cfg.getProperty("x")<a8.cfg.getProperty("x"))&&(aT.gecko&&aT.gecko<1.9)&&!this.cfg.getProperty(u)){a9=this.element;bb=a9.offsetWidth;a9.style.width=bb+aq;a7=(bb-(a9.offsetWidth-bb))+aq;this.cfg.setProperty(u,a7);this.hideEvent.subscribe(bd,a7)}}if(this===this.getRoot()&&this.cfg.getProperty(aD)===ad){this._focusedElement=aE;this.focus()}},_onBeforeHide:function(a8,a7){var a6=this.activeItem,ba=this.getRoot(),bb,a9;if(a6){bb=a6.cfg;bb.setProperty(Y,false);a9=bb.getProperty(o);if(a9){a9.hide()}}if(aT.ie&&this.cfg.getProperty(aD)===ad&&this.parent){ba._hasFocus=this.hasFocus()}if(ba==this){ba.blur()}},_onParentMenuConfigChange:function(a7,a6,ba){var a8=a6[0][0],a9=a6[0][1];switch(a8){case af:case W:case ay:case aW:case C:case ac:case aZ:case a3:case J:case av:case aK:case ae:case aH:case a5:case aS:ba.cfg.setProperty(a8,a9);break;case ao:if(!(this.parent.parent instanceof YAHOO.widget.MenuBar)){ba.cfg.setProperty(a8,a9)}break}},_onParentMenuRender:function(a7,a6,bc){var a9=bc.parent.parent,a8=a9.cfg,ba={constraintoviewport:a8.getProperty(W),xy:[0,0],clicktohide:a8.getProperty(ac),effect:a8.getProperty(aZ),showdelay:a8.getProperty(aW),hidedelay:a8.getProperty(ay),submenuhidedelay:a8.getProperty(C),classname:a8.getProperty(a3),scrollincrement:a8.getProperty(J),maxheight:a8.getProperty(av),minscrollheight:a8.getProperty(aK),iframe:a8.getProperty(af),shadow:a8.getProperty(aH),preventcontextoverlap:a8.getProperty(a5),monitorresize:a8.getProperty(ae),keepopen:a8.getProperty(aS)},bb;if(!(a9 instanceof YAHOO.widget.MenuBar)){ba[ao]=a8.getProperty(ao)}bc.cfg.applyConfig(ba);if(!this.lazyLoad){bb=this.parent.element;if(this.element.parentNode==bb){this.render()}else{this.render(bb)}}},_onMenuItemDestroy:function(a8,a7,a6){this._removeItemFromGroupByValue(a6.groupIndex,a6)},_onMenuItemConfigChange:function(a8,a7,a6){var ba=a7[0][0],bb=a7[0][1],a9;switch(ba){case Y:if(bb===true){this.activeItem=a6}break;case o:a9=a7[0][1];if(a9){this._configureSubmenu(a6)}break}},configVisible:function(a8,a7,a9){var a6,ba;if(this.cfg.getProperty(aD)==ad){R.superclass.configVisible.call(this,a8,a7,a9)}else{a6=a7[0];ba=F.getStyle(this.element,ax);F.setStyle(this.element,j,aV);if(a6){if(ba!=aw){this.beforeShowEvent.fire();F.setStyle(this.element,ax,aw);this.showEvent.fire()}}else{if(ba==aw){this.beforeHideEvent.fire();F.setStyle(this.element,ax,az);this.hideEvent.fire()}}}},configPosition:function(a8,a7,bb){var ba=this.element,a9=a7[0]==c?c:Z,bc=this.cfg,a6;F.setStyle(ba,aD,a9);if(a9==c){F.setStyle(ba,ax,aw);bc.setProperty(aV,true)}else{F.setStyle(ba,j,al)}if(a9==Z){a6=bc.getProperty(at);if(!a6||a6===0){bc.setProperty(at,1)}}},configIframe:function(a7,a6,a8){if(this.cfg.getProperty(aD)==ad){R.superclass.configIframe.call(this,a7,a6,a8)}},configHideDelay:function(a7,a6,a8){var a9=a6[0];this._useHideDelay=(a9>0)},configContainer:function(a7,a6,a9){var a8=a6[0];if(am.isString(a8)){this.cfg.setProperty(G,F.get(a8),true)}},_clearSetWidthFlag:function(){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(u,this._clearSetWidthFlag)},_subscribeScrollHandlers:function(a7,a6){var a9=this._onScrollTargetMouseOver;var a8=this._onScrollTargetMouseOut;aa.on(a7,aJ,a9,this,true);aa.on(a7,h,a8,this,true);aa.on(a6,aJ,a9,this,true);aa.on(a6,h,a8,this,true)},_unsubscribeScrollHandlers:function(a7,a6){var a9=this._onScrollTargetMouseOver;var a8=this._onScrollTargetMouseOut;aa.removeListener(a7,aJ,a9);aa.removeListener(a7,h,a8);aa.removeListener(a6,aJ,a9);aa.removeListener(a6,h,a8)},_setScrollHeight:function(bg){var bd=bg,bc=false,bh=false,a9,ba,bf,a7,a6,be,bb,a8;if(this.getItems().length>0){a9=this.element;ba=this.body;bf=this.header;a7=this.footer;a6=this.cfg.getProperty(aK);if(bd>0&&bd<a6){bd=a6}F.setStyle(ba,aP,U);F.removeClass(ba,L);ba.scrollTop=0;bh=((aT.gecko&&aT.gecko<1.9)||aT.ie);if(bd>0&&bh&&!this.cfg.getProperty(u)){bb=a9.offsetWidth;a9.style.width=bb+aq;a8=(bb-(a9.offsetWidth-bb))+aq;this.cfg.unsubscribeFromConfigEvent(u,this._clearSetWidthFlag);this.cfg.setProperty(u,a8);this._widthSetForScroll=true;this.cfg.subscribeToConfigEvent(u,this._clearSetWidthFlag)}if(bd>0&&(!bf&&!a7)){this.setHeader(ak);this.setFooter(ak);bf=this.header;a7=this.footer;F.addClass(bf,t);F.addClass(a7,X);a9.insertBefore(bf,ba);a9.appendChild(a7)}be=bd;if(bf&&a7){be=(be-(bf.offsetHeight+a7.offsetHeight))}if((be>0)&&(ba.offsetHeight>bd)){F.addClass(ba,L);F.setStyle(ba,aP,(be+aq));if(!this._hasScrollEventHandlers){this._subscribeScrollHandlers(bf,a7);this._hasScrollEventHandlers=true}this._disableScrollHeader();this._enableScrollFooter();bc=true}else{if(bf&&a7){if(this._widthSetForScroll){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(u,this._clearSetWidthFlag);this.cfg.setProperty(u,U)}this._enableScrollHeader();this._enableScrollFooter();if(this._hasScrollEventHandlers){this._unsubscribeScrollHandlers(bf,a7);this._hasScrollEventHandlers=false}a9.removeChild(bf);a9.removeChild(a7);this.header=null;this.footer=null;bc=true}}if(bc){this.cfg.refireEvent(af);this.cfg.refireEvent(aH)}}},_setMaxHeight:function(a7,a6,a8){this._setScrollHeight(a8);this.renderEvent.unsubscribe(this._setMaxHeight)},configMaxHeight:function(a7,a6,a8){var a9=a6[0];if(this.lazyLoad&&!this.body&&a9>0){this.renderEvent.subscribe(this._setMaxHeight,a9,this)}else{this._setScrollHeight(a9)}},configClassName:function(a8,a7,a9){var a6=a7[0];if(this._sClassName){F.removeClass(this.element,this._sClassName)}F.addClass(this.element,a6);this._sClassName=a6},_onItemAdded:function(a7,a6){var a8=a6[0];if(a8){a8.cfg.setProperty(aI,true)}},configDisabled:function(a8,a7,bb){var ba=a7[0],a6=this.getItems(),bc,a9;if(am.isArray(a6)){bc=a6.length;if(bc>0){a9=bc-1;do{a6[a9].cfg.setProperty(aI,ba)}while(a9--)}if(ba){this.clearActiveItem(true);F.addClass(this.element,aI);this.itemAddedEvent.subscribe(this._onItemAdded)}else{F.removeClass(this.element,aI);this.itemAddedEvent.unsubscribe(this._onItemAdded)}}},_sizeShadow:function(){var a7=this.element,a6=this._shadow;if(a6&&a7){if(a6.style.width&&a6.style.height){a6.style.width=U;a6.style.height=U}a6.style.width=(a7.offsetWidth+6)+aq;a6.style.height=(a7.offsetHeight+1)+aq}},_replaceShadow:function(){this.element.appendChild(this._shadow)},_addShadowVisibleClass:function(){F.addClass(this._shadow,ag)},_removeShadowVisibleClass:function(){F.removeClass(this._shadow,ag)},_removeShadow:function(){var a6=(this._shadow&&this._shadow.parentNode);if(a6){a6.removeChild(this._shadow)}this.beforeShowEvent.unsubscribe(this._addShadowVisibleClass);this.beforeHideEvent.unsubscribe(this._removeShadowVisibleClass);this.cfg.unsubscribeFromConfigEvent(u,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(aP,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(av,this._sizeShadow);this.cfg.unsubscribeFromConfigEvent(av,this._replaceShadow);this.changeContentEvent.unsubscribe(this._sizeShadow);aX.textResizeEvent.unsubscribe(this._sizeShadow)},_createShadow:function(){var a7=this._shadow,a6;if(!a7){a6=this.element;if(!aQ){aQ=document.createElement(k);aQ.className=M}a7=aQ.cloneNode(false);a6.appendChild(a7);this._shadow=a7;this.beforeShowEvent.subscribe(this._addShadowVisibleClass);this.beforeHideEvent.subscribe(this._removeShadowVisibleClass);if(aT.ie){am.later(0,this,function(){this._sizeShadow();this.syncIframe()});this.cfg.subscribeToConfigEvent(u,this._sizeShadow);this.cfg.subscribeToConfigEvent(aP,this._sizeShadow);this.cfg.subscribeToConfigEvent(av,this._sizeShadow);this.changeContentEvent.subscribe(this._sizeShadow);aX.textResizeEvent.subscribe(this._sizeShadow,this,true);this.destroyEvent.subscribe(function(){aX.textResizeEvent.unsubscribe(this._sizeShadow,this)})}this.cfg.subscribeToConfigEvent(av,this._replaceShadow)}},_shadowBeforeShow:function(){if(this._shadow){this._replaceShadow();if(aT.ie){this._sizeShadow()}}else{this._createShadow()}this.beforeShowEvent.unsubscribe(this._shadowBeforeShow)},configShadow:function(a7,a6,a8){var a9=a6[0];if(a9&&this.cfg.getProperty(aD)==ad){if(this.cfg.getProperty(aV)){if(this._shadow){this._replaceShadow();if(aT.ie){this._sizeShadow()}}else{this._createShadow()}}else{this.beforeShowEvent.subscribe(this._shadowBeforeShow)}}else{if(!a9){this.beforeShowEvent.unsubscribe(this._shadowBeforeShow);this._removeShadow()}}},initEvents:function(){R.superclass.initEvents.call(this);var a7=aC.length-1,a8,a6;do{a8=aC[a7];a6=this.createEvent(a8[1]);a6.signature=f.LIST;this[a8[0]]=a6}while(a7--)},positionOffScreen:function(){var a7=this.iframe,a8=this.element,a6=this.OFF_SCREEN_POSITION;a8.style.top=U;a8.style.left=U;if(a7){a7.style.top=a6;a7.style.left=a6}},getRoot:function(){var a8=this.parent,a7,a6;if(a8){a7=a8.parent;a6=a7?a7.getRoot():this}else{a6=this}return a6},toString:function(){var a7=aR,a6=this.id;if(a6){a7+=(a2+a6)}return a7},setItemGroupTitle:function(bb,ba){var a9,a8,a7,a6;if(am.isString(bb)&&bb.length>0){a9=am.isNumber(ba)?ba:0;a8=this._aGroupTitleElements[a9];if(a8){a8.innerHTML=bb}else{a8=document.createElement(this.GROUP_TITLE_TAG_NAME);a8.innerHTML=bb;this._aGroupTitleElements[a9]=a8}a7=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[a7]){F.removeClass(this._aGroupTitleElements[a7],aj);a6=a7}}while(a7--);if(a6!==null){F.addClass(this._aGroupTitleElements[a6],aj)}this.changeContentEvent.fire()}},addItem:function(a6,a7){return this._addItemToGroup(a7,a6)},addItems:function(ba,a9){var bc,a6,bb,a7,a8;if(am.isArray(ba)){bc=ba.length;a6=[];for(a7=0;a7<bc;a7++){bb=ba[a7];if(bb){if(am.isArray(bb)){a6[a6.length]=this.addItems(bb,a7)}else{a6[a6.length]=this._addItemToGroup(a9,bb)}}}if(a6.length){a8=a6}}return a8},insertItem:function(a6,a7,a8){return this._addItemToGroup(a8,a6,a7)},removeItem:function(a6,a8){var a9,a7;if(!am.isUndefined(a6)){if(a6 instanceof YAHOO.widget.MenuItem){a9=this._removeItemFromGroupByValue(a8,a6)}else{if(am.isNumber(a6)){a9=this._removeItemFromGroupByIndex(a8,a6)}}if(a9){a9.destroy();a7=a9}}return a7},getItems:function(){var a9=this._aItemGroups,a7,a8,a6=[];if(am.isArray(a9)){a7=a9.length;a8=((a7==1)?a9[0]:(Array.prototype.concat.apply(a6,a9)))}return a8},getItemGroups:function(){return this._aItemGroups},getItem:function(a7,a8){var a9,a6;if(am.isNumber(a7)){a9=this._getItemGroup(a8);if(a9){a6=a9[a7]}}return a6},getSubmenus:function(){var a7=this.getItems(),bb=a7.length,a6,a8,ba,a9;if(bb>0){a6=[];for(a9=0;a9<bb;a9++){ba=a7[a9];if(ba){a8=ba.cfg.getProperty(o);if(a8){a6[a6.length]=a8}}}}return a6},clearContent:function(){var ba=this.getItems(),a7=ba.length,a8=this.element,a9=this.body,be=this.header,a6=this.footer,bd,bc,bb;if(a7>0){bb=a7-1;do{bd=ba[bb];if(bd){bc=bd.cfg.getProperty(o);if(bc){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,bc);this.renderEvent.unsubscribe(this._onParentMenuRender,bc)}this.removeItem(bd,bd.groupIndex)}}while(bb--)}if(be){aa.purgeElement(be);a8.removeChild(be)}if(a6){aa.purgeElement(a6);a8.removeChild(a6)}if(a9){aa.purgeElement(a9);a9.innerHTML=U}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty(u,null)},destroy:function(a6){this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;R.superclass.destroy.call(this,a6)},setInitialFocus:function(){var a6=this._getFirstEnabledItem();if(a6){a6.focus()}},setInitialSelection:function(){var a6=this._getFirstEnabledItem();if(a6){a6.cfg.setProperty(Y,true)}},clearActiveItem:function(a8){if(this.cfg.getProperty(aW)>0){this._cancelShowDelay()}var a6=this.activeItem,a9,a7;if(a6){a9=a6.cfg;if(a8){a6.blur();this.getRoot()._hasFocus=true}a9.setProperty(Y,false);a7=a9.getProperty(o);if(a7){a7.hide()}this.activeItem=null}},focus:function(){if(!this.hasFocus()){this.setInitialFocus()}},blur:function(){var a6;if(this.hasFocus()){a6=a4.getFocusedMenuItem();if(a6){a6.blur()}}},hasFocus:function(){return(a4.getFocusedMenu()==this.getRoot())},_doItemSubmenuSubscribe:function(a7,a6,a9){var ba=a6[0],a8=ba.cfg.getProperty(o);if(a8){a8.subscribe.apply(a8,a9)}},_doSubmenuSubscribe:function(a7,a6,a9){var a8=this.cfg.getProperty(o);if(a8){a8.subscribe.apply(a8,a9)}},subscribe:function(){R.superclass.subscribe.apply(this,arguments);R.superclass.subscribe.call(this,ar,this._doItemSubmenuSubscribe,arguments);var a6=this.getItems(),ba,a9,a7,a8;if(a6){ba=a6.length;if(ba>0){a8=ba-1;do{a9=a6[a8];a7=a9.cfg.getProperty(o);if(a7){a7.subscribe.apply(a7,arguments)}else{a9.cfg.subscribeToConfigEvent(o,this._doSubmenuSubscribe,arguments)}}while(a8--)}}},unsubscribe:function(){R.superclass.unsubscribe.apply(this,arguments);R.superclass.unsubscribe.call(this,ar,this._doItemSubmenuSubscribe,arguments);var a6=this.getItems(),ba,a9,a7,a8;if(a6){ba=a6.length;if(ba>0){a8=ba-1;do{a9=a6[a8];a7=a9.cfg.getProperty(o);if(a7){a7.unsubscribe.apply(a7,arguments)}else{a9.cfg.unsubscribeFromConfigEvent(o,this._doSubmenuSubscribe,arguments)}}while(a8--)}}},initDefaultConfig:function(){R.superclass.initDefaultConfig.call(this);var a6=this.cfg;a6.addProperty(aA.key,{handler:this.configVisible,value:aA.value,validator:aA.validator});a6.addProperty(ap.key,{handler:this.configConstrainToViewport,value:ap.value,validator:ap.validator,supercedes:ap.supercedes});a6.addProperty(ai.key,{value:ai.value,validator:ai.validator,supercedes:ai.supercedes});a6.addProperty(s.key,{handler:this.configPosition,value:s.value,validator:s.validator,supercedes:s.supercedes});a6.addProperty(a.key,{value:a.value,suppressEvent:a.suppressEvent});a6.addProperty(T.key,{value:T.value,validator:T.validator,suppressEvent:T.suppressEvent});a6.addProperty(y.key,{value:y.value,validator:y.validator,suppressEvent:y.suppressEvent});a6.addProperty(Q.key,{handler:this.configHideDelay,value:Q.value,validator:Q.validator,suppressEvent:Q.suppressEvent});a6.addProperty(V.key,{value:V.value,validator:V.validator,suppressEvent:V.suppressEvent});a6.addProperty(O.key,{value:O.value,validator:O.validator,suppressEvent:O.suppressEvent});a6.addProperty(an.key,{handler:this.configContainer,value:document.body,suppressEvent:an.suppressEvent});a6.addProperty(aG.key,{value:aG.value,validator:aG.validator,supercedes:aG.supercedes,suppressEvent:aG.suppressEvent});a6.addProperty(n.key,{value:n.value,validator:n.validator,supercedes:n.supercedes,suppressEvent:n.suppressEvent});a6.addProperty(x.key,{handler:this.configMaxHeight,value:x.value,validator:x.validator,suppressEvent:x.suppressEvent,supercedes:x.supercedes});a6.addProperty(w.key,{handler:this.configClassName,value:w.value,validator:w.validator,supercedes:w.supercedes});a6.addProperty(A.key,{handler:this.configDisabled,value:A.value,validator:A.validator,suppressEvent:A.suppressEvent});a6.addProperty(i.key,{handler:this.configShadow,value:i.value,validator:i.validator});a6.addProperty(aM.key,{value:aM.value,validator:aM.validator})}})})();(function(){YAHOO.widget.MenuItem=function(at,ar){if(at){if(ar){this.parent=ar.parent;this.value=ar.value;this.id=ar.id}this.init(at,ar)}};var X=YAHOO.util.Dom,J=YAHOO.widget.Module,ab=YAHOO.widget.Menu,C=YAHOO.widget.MenuItem,ak=YAHOO.util.CustomEvent,K=YAHOO.env.ua,aq=YAHOO.lang,al="text",o="#",q="-",l="helptext",N="url",ah="target",a="emphasis",n="strongemphasis",B="checked",W="submenu",h="disabled",b="selected",p="hassubmenu",u="checked-disabled",ai="hassubmenu-disabled",ad="hassubmenu-selected",t="checked-selected",Q="onclick",j="classname",aj="",I="OPTION",V="OPTGROUP",k="LI",ae="href",R="SELECT",x="DIV",an='<em class="helptext">',A="<em>",i="</em>",w="<strong>",Y="</strong>",y="preventcontextoverlap",H="obj",ag="scope",T="none",v="visible",e=" ",M="MenuItem",aa="click",d="show",m="hide",s="li",af='<a href="#"></a>',P=[["mouseOverEvent","mouseover"],["mouseOutEvent","mouseout"],["mouseDownEvent","mousedown"],["mouseUpEvent","mouseup"],["clickEvent",aa],["keyPressEvent","keypress"],["keyDownEvent","keydown"],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["destroyEvent","destroy"]],O={key:al,value:aj,validator:aq.isString,suppressEvent:true},S={key:l,supercedes:[al],suppressEvent:true},g={key:N,value:o,suppressEvent:true},ao={key:ah,suppressEvent:true},ap={key:a,value:false,validator:aq.isBoolean,suppressEvent:true,supercedes:[al]},D={key:n,value:false,validator:aq.isBoolean,suppressEvent:true,supercedes:[al]},L={key:B,value:false,validator:aq.isBoolean,suppressEvent:true,supercedes:[h,b]},f={key:W,suppressEvent:true,supercedes:[h,b]},am={key:h,value:false,validator:aq.isBoolean,suppressEvent:true,supercedes:[al,b]},F={key:b,value:false,validator:aq.isBoolean,suppressEvent:true},U={key:Q,suppressEvent:true},ac={key:j,value:null,validator:aq.isString,suppressEvent:true},Z={key:"keylistener",value:null,suppressEvent:true},c=null,E={};var z=function(av,au){var ar=E[av];if(!ar){E[av]={};ar=E[av]}var at=ar[au];if(!at){at=av+q+au;ar[au]=at}return at};var G=function(ar){X.addClass(this.element,z(this.CSS_CLASS_NAME,ar));X.addClass(this._oAnchor,z(this.CSS_LABEL_CLASS_NAME,ar))};var r=function(ar){X.removeClass(this.element,z(this.CSS_CLASS_NAME,ar));X.removeClass(this._oAnchor,z(this.CSS_LABEL_CLASS_NAME,ar))};C.prototype={CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:C,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,browser:J.prototype.browser,id:null,init:function(ar,aC){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=ab}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var ay=this.cfg,az=o,au,aB,aA,at,aw,av,ax;if(aq.isString(ar)){this._createRootNodeStructure();ay.queueProperty(al,ar)}else{if(ar&&ar.tagName){switch(ar.tagName.toUpperCase()){case I:this._createRootNodeStructure();ay.queueProperty(al,ar.text);ay.queueProperty(h,ar.disabled);this.value=ar.value;this.srcElement=ar;break;case V:this._createRootNodeStructure();ay.queueProperty(al,ar.label);ay.queueProperty(h,ar.disabled);this.srcElement=ar;this._initSubTree();break;case k:aA=X.getFirstChild(ar);if(aA){az=aA.getAttribute(ae,2);at=aA.getAttribute(ah);aw=aA.innerHTML}this.srcElement=ar;this.element=ar;this._oAnchor=aA;ay.setProperty(al,aw,true);ay.setProperty(N,az,true);ay.setProperty(ah,at,true);this._initSubTree();break}}}if(this.element){av=(this.srcElement||this.element).id;if(!av){av=this.id||X.generateId();this.element.id=av}this.id=av;X.addClass(this.element,this.CSS_CLASS_NAME);X.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);ax=P.length-1;do{aB=P[ax];au=this.createEvent(aB[1]);au.signature=ak.LIST;this[aB[0]]=au}while(ax--);if(aC){ay.applyConfig(aC)}ay.fireQueue()}},_createRootNodeStructure:function(){var ar,at;if(!c){c=document.createElement(s);c.innerHTML=af}ar=c.cloneNode(true);ar.className=this.CSS_CLASS_NAME;at=ar.firstChild;at.className=this.CSS_LABEL_CLASS_NAME;this.element=ar;this._oAnchor=at},_initSubTree:function(){var ay=this.srcElement,au=this.cfg,aw,av,at,ar,ax;if(ay.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()==R){au.setProperty(W,{id:X.generateId(),itemdata:ay.childNodes})}else{aw=ay.firstChild;av=[];do{if(aw&&aw.tagName){switch(aw.tagName.toUpperCase()){case x:au.setProperty(W,aw);break;case I:av[av.length]=aw;break}}}while((aw=aw.nextSibling));at=av.length;if(at>0){ar=new this.SUBMENU_TYPE(X.generateId());au.setProperty(W,ar);for(ax=0;ax<at;ax++){ar.addItem((new ar.ITEM_TYPE(av[ax])))}}}}},configText:function(aB,au,aw){var at=au[0],av=this.cfg,az=this._oAnchor,ar=av.getProperty(l),aA=aj,ax=aj,ay=aj;if(at){if(ar){aA=an+ar+i}if(av.getProperty(a)){ax=A;ay=i}if(av.getProperty(n)){ax=w;ay=Y}az.innerHTML=(ax+at+ay+aA)}},configHelpText:function(au,at,ar){this.cfg.refireEvent(al)},configURL:function(au,at,ar){var aw=at[0];if(!aw){aw=o}var av=this._oAnchor;if(K.opera){av.removeAttribute(ae)}av.setAttribute(ae,aw)},configTarget:function(av,au,at){var ar=au[0],aw=this._oAnchor;if(ar&&ar.length>0){aw.setAttribute(ah,ar)}else{aw.removeAttribute(ah)}},configEmphasis:function(au,at,ar){var aw=at[0],av=this.cfg;if(aw&&av.getProperty(n)){av.setProperty(n,false)}av.refireEvent(al)},configStrongEmphasis:function(av,au,at){var ar=au[0],aw=this.cfg;if(ar&&aw.getProperty(a)){aw.setProperty(a,false)}aw.refireEvent(al)},configChecked:function(au,at,ar){var aw=at[0],av=this.cfg;if(aw){G.call(this,B)}else{r.call(this,B)}av.refireEvent(al);if(av.getProperty(h)){av.refireEvent(h)}if(av.getProperty(b)){av.refireEvent(b)}},configDisabled:function(au,at,ar){var aw=at[0],ax=this.cfg,av=ax.getProperty(W),ay=ax.getProperty(B);if(aw){if(ax.getProperty(b)){ax.setProperty(b,false)}G.call(this,h);if(av){G.call(this,ai)}if(ay){G.call(this,u)}}else{r.call(this,h);if(av){r.call(this,ai)}if(ay){r.call(this,u)}}},configSelected:function(au,at,ar){var ay=this.cfg,ax=this._oAnchor,aw=at[0],az=ay.getProperty(B),av=ay.getProperty(W);if(K.opera){ax.blur()}if(aw&&!ay.getProperty(h)){G.call(this,b);if(av){G.call(this,ad)}if(az){G.call(this,t)}}else{r.call(this,b);if(av){r.call(this,ad)}if(az){r.call(this,t)}}if(this.hasFocus()&&K.opera){ax.focus()}},_onSubmenuBeforeHide:function(av,au){var aw=this.parent,ar;function at(){aw._oAnchor.blur();ar.beforeHideEvent.unsubscribe(at)}if(aw.hasFocus()){ar=aw.parent;ar.beforeHideEvent.subscribe(at)}},configSubmenu:function(az,au,ax){var aw=au[0],av=this.cfg,at=this.parent&&this.parent.lazyLoad,ay,aA,ar;if(aw){if(aw instanceof ab){ay=aw;ay.parent=this;ay.lazyLoad=at}else{if(aq.isObject(aw)&&aw.id&&!aw.nodeType){aA=aw.id;ar=aw;ar.lazyload=at;ar.parent=this;ay=new this.SUBMENU_TYPE(aA,ar);av.setProperty(W,ay,true)}else{ay=new this.SUBMENU_TYPE(aw,{lazyload:at,parent:this});av.setProperty(W,ay,true)}}if(ay){ay.cfg.setProperty(y,true);G.call(this,p);if(av.getProperty(N)===o){av.setProperty(N,(o+ay.id))}this._oSubmenu=ay;if(K.opera){ay.beforeHideEvent.subscribe(this._onSubmenuBeforeHide)}}}else{r.call(this,p);if(this._oSubmenu){this._oSubmenu.destroy()}}if(av.getProperty(h)){av.refireEvent(h)}if(av.getProperty(b)){av.refireEvent(b)}},configOnClick:function(au,at,ar){var av=at[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=av)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null}if(!this._oOnclickAttributeValue&&aq.isObject(av)&&aq.isFunction(av.fn)){this.clickEvent.subscribe(av.fn,((H in av)?av.obj:this),((ag in av)?av.scope:null));this._oOnclickAttributeValue=av}},configClassName:function(av,au,at){var ar=au[0];if(this._sClassName){X.removeClass(this.element,this._sClassName)}X.addClass(this.element,ar);this._sClassName=ar},_dispatchClickEvent:function(){var at=this,ar;if(!at.cfg.getProperty(h)){ar=X.getFirstChild(at.element);this._dispatchDOMClick(ar)}},_dispatchDOMClick:function(at){var ar;if(K.ie&&K.ie<9){at.fireEvent(Q)}else{if((K.gecko&&K.gecko>=1.9)||K.opera||K.webkit){ar=document.createEvent("HTMLEvents");ar.initEvent(aa,true,true)}else{ar=document.createEvent("MouseEvents");ar.initMouseEvent(aa,true,true,window,0,0,0,0,0,false,false,false,false,0,null)}at.dispatchEvent(ar)}},_createKeyListener:function(av,au,ax){var aw=this,at=aw.parent;var ar=new YAHOO.util.KeyListener(at.element.ownerDocument,ax,{fn:aw._dispatchClickEvent,scope:aw,correctScope:true});if(at.cfg.getProperty(v)){ar.enable()}at.subscribe(d,ar.enable,null,ar);at.subscribe(m,ar.disable,null,ar);aw._keyListener=ar;at.unsubscribe(d,aw._createKeyListener,ax)},configKeyListener:function(au,at){var aw=at[0],av=this,ar=av.parent;if(av._keyData){ar.unsubscribe(d,av._createKeyListener,av._keyData);av._keyData=null}if(av._keyListener){ar.unsubscribe(d,av._keyListener.enable);ar.unsubscribe(m,av._keyListener.disable);av._keyListener.disable();av._keyListener=null}if(aw){av._keyData=aw;ar.subscribe(d,av._createKeyListener,aw,av)}},initDefaultConfig:function(){var ar=this.cfg;ar.addProperty(O.key,{handler:this.configText,value:O.value,validator:O.validator,suppressEvent:O.suppressEvent});ar.addProperty(S.key,{handler:this.configHelpText,supercedes:S.supercedes,suppressEvent:S.suppressEvent});ar.addProperty(g.key,{handler:this.configURL,value:g.value,suppressEvent:g.suppressEvent});ar.addProperty(ao.key,{handler:this.configTarget,suppressEvent:ao.suppressEvent});ar.addProperty(ap.key,{handler:this.configEmphasis,value:ap.value,validator:ap.validator,suppressEvent:ap.suppressEvent,supercedes:ap.supercedes});ar.addProperty(D.key,{handler:this.configStrongEmphasis,value:D.value,validator:D.validator,suppressEvent:D.suppressEvent,supercedes:D.supercedes});ar.addProperty(L.key,{handler:this.configChecked,value:L.value,validator:L.validator,suppressEvent:L.suppressEvent,supercedes:L.supercedes});ar.addProperty(am.key,{handler:this.configDisabled,value:am.value,validator:am.validator,suppressEvent:am.suppressEvent});ar.addProperty(F.key,{handler:this.configSelected,value:F.value,validator:F.validator,suppressEvent:F.suppressEvent});ar.addProperty(f.key,{handler:this.configSubmenu,supercedes:f.supercedes,suppressEvent:f.suppressEvent});ar.addProperty(U.key,{handler:this.configOnClick,suppressEvent:U.suppressEvent});ar.addProperty(ac.key,{handler:this.configClassName,value:ac.value,validator:ac.validator,suppressEvent:ac.suppressEvent});ar.addProperty(Z.key,{handler:this.configKeyListener,value:Z.value,suppressEvent:Z.suppressEvent})},getNextSibling:function(){var ar=function(ay){return(ay.nodeName.toLowerCase()==="ul")},aw=this.element,av=X.getNextSibling(aw),au,at,ax;if(!av){au=aw.parentNode;at=X.getNextSiblingBy(au,ar);if(at){ax=at}else{ax=X.getFirstChildBy(au.parentNode,ar)}av=X.getFirstChild(ax)}return YAHOO.widget.MenuManager.getMenuItem(av.id)},getNextEnabledSibling:function(){var ar=this.getNextSibling();return(ar.cfg.getProperty(h)||ar.element.style.display==T)?ar.getNextEnabledSibling():ar},getPreviousSibling:function(){var ar=function(ay){return(ay.nodeName.toLowerCase()==="ul")},aw=this.element,av=X.getPreviousSibling(aw),au,at,ax;if(!av){au=aw.parentNode;at=X.getPreviousSiblingBy(au,ar);if(at){ax=at}else{ax=X.getLastChildBy(au.parentNode,ar)}av=X.getLastChild(ax)}return YAHOO.widget.MenuManager.getMenuItem(av.id)},getPreviousEnabledSibling:function(){var ar=this.getPreviousSibling();return(ar.cfg.getProperty(h)||ar.element.style.display==T)?ar.getPreviousEnabledSibling():ar},focus:function(){var av=this.parent,au=this._oAnchor,ar=av.activeItem;function at(){try{if(!(K.ie&&!document.hasFocus())){if(ar){ar.blurEvent.fire()}au.focus();this.focusEvent.fire()}}catch(aw){}}if(!this.cfg.getProperty(h)&&av&&av.cfg.getProperty(v)&&this.element.style.display!=T){aq.later(0,this,at)}},blur:function(){var ar=this.parent;if(!this.cfg.getProperty(h)&&ar&&ar.cfg.getProperty(v)){aq.later(0,this,function(){try{this._oAnchor.blur();this.blurEvent.fire()}catch(at){}},0)}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this)},destroy:function(){var au=this.element,at,ar,aw,av;if(au){at=this.cfg.getProperty(W);if(at){at.destroy()}ar=au.parentNode;if(ar){ar.removeChild(au);this.destroyEvent.fire()}av=P.length-1;do{aw=P[av];this[aw[0]].unsubscribeAll()}while(av--);this.cfg.configChangedEvent.unsubscribeAll()}},toString:function(){var at=M,ar=this.id;if(ar){at+=(e+ar)}return at}};aq.augmentProto(C,YAHOO.util.EventProvider)})();(function(){var b="xy",c="mousedown",f="ContextMenu",j=" ";YAHOO.widget.ContextMenu=function(l,k){YAHOO.widget.ContextMenu.superclass.constructor.call(this,l,k)};var i=YAHOO.util.Event,e=YAHOO.env.ua,g=YAHOO.widget.ContextMenu,a={TRIGGER_CONTEXT_MENU:"triggerContextMenu",CONTEXT_MENU:(e.opera?c:"contextmenu"),CLICK:"click"},h={key:"trigger",suppressEvent:true};function d(l,k,m){this.cfg.setProperty(b,m);this.beforeShowEvent.unsubscribe(d,m)}YAHOO.lang.extend(g,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(l,k){g.superclass.init.call(this,l);this.beforeInitEvent.fire(g);if(k){this.cfg.applyConfig(k,true)}this.initEvent.fire(g)},initEvents:function(){g.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(a.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST},cancel:function(){this._bCancelled=true},_removeEventHandlers:function(){var k=this._oTrigger;if(k){i.removeListener(k,a.CONTEXT_MENU,this._onTriggerContextMenu);if(e.opera){i.removeListener(k,a.CLICK,this._onTriggerClick)}}},_onTriggerClick:function(l,k){if(l.ctrlKey){i.stopEvent(l)}},_onTriggerContextMenu:function(m,k){var l;if(!(m.type==c&&!m.ctrlKey)){this.contextEventTarget=i.getTarget(m);this.triggerContextMenuEvent.fire(m);if(!this._bCancelled){i.stopEvent(m);YAHOO.widget.MenuManager.hideVisible();l=i.getXY(m);if(!YAHOO.util.Dom.inDocument(this.element)){this.beforeShowEvent.subscribe(d,l)}else{this.cfg.setProperty(b,l)}this.show()}this._bCancelled=false}},toString:function(){var l=f,k=this.id;if(k){l+=(j+k)}return l},initDefaultConfig:function(){g.superclass.initDefaultConfig.call(this);this.cfg.addProperty(h.key,{handler:this.configTrigger,suppressEvent:h.suppressEvent})},destroy:function(k){this._removeEventHandlers();g.superclass.destroy.call(this,k)},configTrigger:function(l,k,n){var m=k[0];if(m){if(this._oTrigger){this._removeEventHandlers()}this._oTrigger=m;i.on(m,a.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(e.opera){i.on(m,a.CLICK,this._onTriggerClick,this,true)}}else{this._removeEventHandlers()}}})}());YAHOO.widget.ContextMenuItem=YAHOO.widget.MenuItem;(function(){var d=YAHOO.lang,n="static",m="dynamic,"+n,a="disabled",f="selected",b="autosubmenudisplay",g="submenu",c="visible",q=" ",h="submenutoggleregion",p="MenuBar";YAHOO.widget.MenuBar=function(t,s){YAHOO.widget.MenuBar.superclass.constructor.call(this,t,s)};function o(t){var s=false;if(d.isString(t)){s=(m.indexOf((t.toLowerCase()))!=-1)}return s}var r=YAHOO.util.Event,l=YAHOO.widget.MenuBar,k={key:"position",value:n,validator:o,supercedes:[c]},e={key:"submenualignment",value:["tl","bl"]},j={key:b,value:false,validator:d.isBoolean,suppressEvent:true},i={key:h,value:false,validator:d.isBoolean};d.extend(l,YAHOO.widget.Menu,{init:function(t,s){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem}l.superclass.init.call(this,t);this.beforeInitEvent.fire(l);if(s){this.cfg.applyConfig(s,true)}this.initEvent.fire(l)},CSS_CLASS_NAME:"yuimenubar",SUBMENU_TOGGLE_REGION_WIDTH:20,_onKeyDown:function(u,t,y){var s=t[0],z=t[1],w,x,v;if(z&&!z.cfg.getProperty(a)){x=z.cfg;switch(s.keyCode){case 37:case 39:if(z==this.activeItem&&!x.getProperty(f)){x.setProperty(f,true)}else{v=(s.keyCode==37)?z.getPreviousEnabledSibling():z.getNextEnabledSibling();if(v){this.clearActiveItem();v.cfg.setProperty(f,true);w=v.cfg.getProperty(g);if(w){w.show();w.setInitialFocus()}else{v.focus()}}}r.preventDefault(s);break;case 40:if(this.activeItem!=z){this.clearActiveItem();x.setProperty(f,true);z.focus()}w=x.getProperty(g);if(w){if(w.cfg.getProperty(c)){w.setInitialSelection();w.setInitialFocus()}else{w.show();w.setInitialFocus()}}r.preventDefault(s);break}}if(s.keyCode==27&&this.activeItem){w=this.activeItem.cfg.getProperty(g);if(w&&w.cfg.getProperty(c)){w.hide();this.activeItem.focus()}else{this.activeItem.cfg.setProperty(f,false);this.activeItem.blur()}r.preventDefault(s)}},_onClick:function(E,y,B){l.superclass._onClick.call(this,E,y,B);var D=y[1],t=true,s,F,u,w,z,A,C,v;var x=function(){if(A.cfg.getProperty(c)){A.hide()}else{A.show()}};if(D&&!D.cfg.getProperty(a)){F=y[0];u=r.getTarget(F);w=this.activeItem;z=this.cfg;if(w&&w!=D){this.clearActiveItem()}D.cfg.setProperty(f,true);A=D.cfg.getProperty(g);if(A){s=D.element;C=YAHOO.util.Dom.getX(s);v=C+(s.offsetWidth-this.SUBMENU_TOGGLE_REGION_WIDTH);if(z.getProperty(h)){if(r.getPageX(F)>v){x();r.preventDefault(F);t=false}}else{x()}}}return t},configSubmenuToggle:function(u,t){var s=t[0];if(s){this.cfg.setProperty(b,false)}},toString:function(){var t=p,s=this.id;if(s){t+=(q+s)}return t},initDefaultConfig:function(){l.superclass.initDefaultConfig.call(this);var s=this.cfg;s.addProperty(k.key,{handler:this.configPosition,value:k.value,validator:k.validator,supercedes:k.supercedes});s.addProperty(e.key,{value:e.value,suppressEvent:e.suppressEvent});s.addProperty(j.key,{value:j.value,validator:j.validator,suppressEvent:j.suppressEvent});s.addProperty(i.key,{value:i.value,validator:i.validator,handler:this.configSubmenuToggle})}})}());YAHOO.widget.MenuBarItem=function(b,a){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,b,a)};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(b,a){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu}YAHOO.widget.MenuBarItem.superclass.init.call(this,b);var c=this.cfg;if(a){c.applyConfig(a,true)}c.fireQueue()},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var a="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){a+=(": "+this.cfg.getProperty("text"))}return a}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.9.0",build:"2800"});