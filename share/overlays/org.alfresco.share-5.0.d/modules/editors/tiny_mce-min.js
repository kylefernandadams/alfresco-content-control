Alfresco.util.RichEditorManager.addEditor("tinyMCE",function(l,s){var f;return({init:function m(w,v){v.theme="modern";if(!v.toolbar){v.toolbar="styleselect | bold italic | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview fullscreen"}if(!v.menu){v.menu={file:{title:"File",items:"newdocument | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},insert:{title:"Insert",items:"link image | charmap hr anchor pagebreak inserttime nonbreaking"},view:{title:"View",items:"fullscreen preview visualblocks code"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table",items:"inserttable tableprops deletetable | cell row column"}}}v.plugins=["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace code fullscreen insertdatetime nonbreaking","table contextmenu paste textcolor visualblocks"];v.relative_urls=true;v.convert_urls=false;if(!v.init_instance_callback){v.init_instance_callback=function(x){return function(y){YAHOO.Bubbling.fire("editorInitialized",x)}}(this)}f=new tinymce.Editor(w,v,tinymce.EditorManager);var u=v.extended_valid_elements;u=(u&&u!="")?(u=u+","):"";v.extended_valid_elements=u+"embed[src|type|width|height|flashvars|wmode]";return this},getEditor:function a(){return f},clear:function e(){YAHOO.util.Dom.get(f.id).value="";f.setContent("")},render:function i(){f.render()},execCommand:"execCommand",disable:function k(){f.hide()},enable:function t(){f.show()},focus:function d(){f.focus()},getContent:function j(){return f.getContent()},setContent:function q(u){f.setContent(u)},save:function n(){f.save()},getContainer:function b(){return f.getContainer()},activateButton:function h(u){f.controlManager.setActive(u,true)},deactivateButton:function r(u){f.controlManager.setActive(u,false)},isDirty:function p(){return f.isDirty()},clearDirtyFlag:function c(){f.isNotDirty=1},addPageUnloadBehaviour:function g(u,v){window.onbeforeunload=function(w){if(YAHOO.lang.isFunction(v)&&v()){var w=w||window.event;if(f.isDirty()){if(w){w.returnValue=u}return u}}}},addSaveKeyBehaviour:function o(u){new YAHOO.util.KeyListener(f.getDoc(),{keys:83,ctrl:true},{fn:u,scope:this,correctScope:true}).enable();new YAHOO.util.KeyListener(document,{keys:83,ctrl:true},{fn:function(w,v){Event.stopEvent(v[1])},scope:this,correctScope:true}).enable()}})});