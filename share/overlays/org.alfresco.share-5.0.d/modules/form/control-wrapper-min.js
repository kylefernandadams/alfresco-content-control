(function(){var d=YAHOO.util.Dom,b=YAHOO.util.Event;var f=Alfresco.util.hasEventInterest;Alfresco.module.ControlWrapper=function(h){Alfresco.module.ControlWrapper.superclass.constructor.call(this,"Alfresco.ControlWrapper",h,"json");if(h!=="null"){YAHOO.Bubbling.on("formValueChanged",this.onFormValueChanged,this)}return this};YAHOO.lang.extend(Alfresco.module.ControlWrapper,Alfresco.component.Base,{options:{type:"",name:null,label:"",value:null,controlParams:{},field:{},container:null,fnValueChanged:null},render:function a(j){var i=this.options.name||"wrapper-"+this.options.type,h={htmlid:this.id,type:this.options.type,name:i,label:this.options.label,value:this.options.value||"",controlParams:YAHOO.lang.JSON.stringify(this.options.controlParams),field:YAHOO.lang.JSON.stringify(this.options.field)};this.eventGroup=this.id+"_"+i+"-cntrl";Alfresco.util.Ajax.request({url:Alfresco.constants.URL_SERVICECONTEXT+"components/form/control-wrapper",method:Alfresco.util.Ajax.POST,dataObj:h,successCallback:{fn:this.onTemplateLoaded,scope:this,obj:j},failureMessage:"Could not load control-wrapper template.",execScripts:true})},onTemplateLoaded:function c(h,j){var i=d.get(this.options.container);if(i){i.innerHTML=h.serverResponse.responseText}if(j&&typeof j.fn=="function"){j.fn.call((typeof j.scope=="object"?j.scope:this),j.obj)}},onFormValueChanged:function g(i,h){var j=this.options.fnValueChanged;if(f(this,h)&&j&&typeof j.fn=="function"){j.fn.call((typeof j.scope=="object"?j.scope:this),Alfresco.util.cleanBubblingObject(h[1]))}}});var e=new Alfresco.module.ControlWrapper("null")})();